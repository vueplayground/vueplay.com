import{V as Ee,F as Ae}from"./Footer-578a71fc.js";import{M as De}from"./Meta-2ad36d34.js";import{h as Te}from"./moment-fbc5633a.js";import{d as Ve}from"./defaultBase64Image-ab365e89.js";import{_ as Le,r as E,o as l,c as r,a as A,b as t,h as D,g as n,t as d,n as T,w as b,k as L,i as Ie,F as V,j as I,d as m,l as Be,m as Pe,v as Se,p as We,f as ze,q as Ye}from"./index-e84074a6.js";const Fe={inject:["io","user","login","logout"],props:{id:{type:String,default:"64e3ac6fabfe0f9fbec81bd5"}},components:{Meta:De},emit:["post"],data:()=>({tailwind:!0,comment:"",edit:!1,post:null,background:Ve,moment:Te,categories:[]}),created(){this.refresh()},methods:{async getCategories(){const e=await this.io.service("types/categories").find();this.categories=(e==null?void 0:e.data)||[]},async postComment(){await this.login()?(await this.io.service("types/comments").create({application_id:this.post._id,comment:this.comment}),await this.refresh(),this.comment="",alert("Posted!")):alert("You need to be logged in to post a comment")},async saveComment(e){await this.io.service("types/comments").patch(e._id,{comment:e.comment}),e.edit=!1,alert("Saved")},async removeComment(e){confirm("Delete comment?")&&(await this.io.service("types/comments").remove(e._id),await this.refresh(),alert("Removed!"))},async savePost(){await this.io.service("types/applications").patch(this.post._id,{title:this.post.title,description:this.post.description,icon:this.post.icon,public:this.post.public,category_id:this.post.category_id}),await this.refresh(),this.edit=!1,alert("Saved")},async remove(e){confirm("Delete component?")&&(await this.io.service("types/applications").remove(e._id),alert("Removed!"),this.$router.push("/search"))},async refresh(){this.post=await this.io.service("types/applications").get(this.id),this.getCategories(),this.$emit("post",this.post)},async myVote(e){var h;const o=await this.io.service("types/votes").find({query:{application_id:e._id,user_id:(h=this.user)==null?void 0:h._id}});return(o==null?void 0:o[0])||!1},async vote(e){if(await this.login()){const o=await this.myVote(e);o?await this.io.service("types/votes").remove(o._id):await this.io.service("types/votes").create({application_id:e._id}),await this.refreshVotes(e)}else alert("You have to be logged in to cast a vote")},async refreshVotes(e){e.votes=await this.io.service("types/votes").find({query:{application_id:e._id}})},async myLike(e){var h;const o=await this.io.service("types/likes").find({query:{comment_id:e._id,user_id:(h=this.user)==null?void 0:h._id}});return(o==null?void 0:o[0])||!1},async like(e){if(await this.login()){const o=await this.myLike(e);o?await this.io.service("types/likes").remove(o._id):await this.io.service("types/likes").create({comment_id:e._id}),await this.refreshLikes(e)}else alert("You have to be logged in to like")},async refreshLikes(e){e.likes=await this.io.service("types/likes").find({query:{comment_id:e._id}})},selectImage(){let e=document.createElement("input");e.type="file",e.multiple=!1,e.accept="image/*",e.onchange=async()=>{let h=Array.from(e.files)[0],g=new FileReader;g.readAsDataURL(h),g.onload=async f=>{this.post.icon=await this.resizeImage(f.target.result)},g.onerror=f=>{alert("Could not load file"),console.log(f)}},e.click()},resizeImage(e){return new Promise((o,h)=>{let g=1e3,f=1e3,i=document.createElement("canvas"),y=i.getContext("2d"),v=new Image;v.onload=()=>{let u=v.width,p=v.height;u>p?u>g&&(p*=g/u,u=g):p>f&&(u*=f/p,p=f),i.width=u,i.height=p,y.drawImage(v,0,0,u,p);let w=i.toDataURL("image/png",.7);o(w)},v.src=e})}}},je={class:"p-6 md:pt-6 pb-24"},Ne={class:"absolute left-0 right-0 top-0 h-16 p-2 bg-slate-50"},Ue={key:1,class:"float-right mt-3 mr-4"},qe={class:"mt-16"},Ge={class:"max-w-2xl mx-auto mt-4 flex"},Re={class:"mt-4 grow"},$e={class:"flex"},Ke={class:"w-16 inline-flex"},Xe={class:"h-1/2 w-full"},Je=t("polygon",{points:"10,0 20,10 0,10"},null,-1),Oe=[Je],Qe={class:"text-center h-1/2 w-full -mt-1"},Ze={class:"overflow-hidden text-ellipsis max-h-20 flex-col inline-flex grow"},et={key:0,class:"pt-2.5 text-xl font-semibold"},tt={class:"mt-4 flex"},st={class:"w-16 inline-flex"},ot={class:"w-11"},it={class:"overflow-hidden text-ellipsis max-h-8 flex-col inline-flex grow"},lt={class:"font-semibold mt-0.5"},rt={class:"inline-flex w-32"},at=["src"],nt={key:0,class:"max-w-2xl mx-auto mb-8 mt-2 flex"},dt=t("div",{class:"w-16 inline-flex"},[t("div",{class:"w-16"})],-1),pt={class:"grow"},ct={key:0,class:"text-gray-700 mb-3"},ut=["value"],ht={class:"font-medium my-3"},mt=["src"],vt={class:"mb-4 w-full block"},gt=t("h2",{class:"font-medium my-3"}," Get source code ",-1),ft=["href"],wt=["href"],bt=["href"],yt=["href"],_t=["href"],kt=["href"],xt=["href"],Ct=["href"],Mt=["href"],Ht=["href"],Lt=["href"],Et=["href"],At=["href"],Dt=["href"],Tt={class:"mb-4 w-full block"},Vt=t("h2",{class:"font-medium my-3"}," Get source code including tailwind using CDN ",-1),It=["href"],Bt=["href"],Pt=["href"],St=["href"],Wt={class:"mt-2 flex text-gray-500"},zt={class:"text-xs"},Yt=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 cursor-pointer inline-flex -mt-1"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Ft={key:1,class:"text-xs ml-1"},jt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"},null,-1),Nt=[jt],Ut={class:"mt-8"},qt={class:"mt-4"},Gt={class:"relative"},Rt=t("div",{class:"mt-10"},[t("p",{class:"text-gray-500"}," Activity Feed ")],-1),$t={class:"max-w-2xl mx-auto mt-4 flex"},Kt={class:"w-16 inline-flex"},Xt={class:"w-11"},Jt={class:"overflow-hidden text-ellipsis max-h-8 flex-col inline-flex grow"},Ot={class:"font-semibold mt-0.5"},Qt={class:"max-w-2xl mx-auto mb-8 mt-2 flex"},Zt=t("div",{class:"w-16 inline-flex"},[t("div",{class:"w-16"})],-1),es={class:"grow"},ts={key:0,class:"text-gray-700 mb-3"},ss=["onUpdate:modelValue"],os=["onClick"],is={class:"flex text-gray-500"},ls=["onClick"],rs=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"},null,-1),as=[rs],ns={class:"text-xs"},ds={key:0,class:"text-xs ml-1"},ps=["onClick"],cs=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),us=[cs],hs=["onClick"],ms=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 cursor-pointer inline-flex -mt-0.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1);function vs(e,o,h,g,f,i){var v,u,p,w,c,_,k,x,C,B,P,S,W,z,Y,F,j,N,U,q,G,R,$,K,X,J,O,Q,Z,ee,te,se,oe,ie,le,re,ae,ne,de,pe,ce,ue,he;const y=E("Meta");return l(),r("section",je,[A(y,{title:(v=e.post)==null?void 0:v.title,description:(u=e.post)==null?void 0:u.description,author:(w=(p=e.post)==null?void 0:p.user)==null?void 0:w.name},null,8,["title","description","author"]),t("div",Ne,[(c=i.user)!=null&&c.email||(k=(_=i.user)==null?void 0:_.value)!=null&&k.email?(l(),r("div",{key:0,class:"h-12 w-12 bg-cover rounded-full bg-slate-500 mx-auto float-right",style:D("background-image: url("+(((x=i.user)==null?void 0:x.picture)||((B=(C=i.user)==null?void 0:C.value)==null?void 0:B.picture))+")")},null,4)):n("",!0),(P=i.user)!=null&&P.email||(W=(S=i.user)==null?void 0:S.value)!=null&&W.email?(l(),r("div",Ue,d(((z=i.user)==null?void 0:z.name)||((F=(Y=i.user)==null?void 0:Y.value)==null?void 0:F.name)),1)):n("",!0),(j=i.user)!=null&&j.email||(U=(N=i.user)==null?void 0:N.value)!=null&&U.email?(l(),r("div",{key:2,class:"float-left mt-3 ml-4 cursor-pointer text-slate-700 hover:text-slate-900 font-bold",onClick:o[0]||(o[0]=(...s)=>i.logout&&i.logout(...s))}," Logout ")):(l(),r("div",{key:3,class:"float-left mt-3 ml-4 cursor-pointer text-slate-700 hover:text-slate-900 font-bold",onClick:o[1]||(o[1]=(...s)=>i.login&&i.login(...s))}," Login "))]),t("article",qe,[t("div",Ge,[t("div",Re,[t("div",$e,[t("div",Ke,[t("div",{class:T(["border w-11 h-12 rounded-lg cursor-pointer",{"bg-emerald-50":(q=e.post)==null?void 0:q.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)}),"border-emerald-400":(G=e.post)==null?void 0:G.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)}),"hover:bg-emerald-100":(R=e.post)==null?void 0:R.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)}),"hover:bg-slate-100":!(($=e.post)!=null&&$.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)})),"border-emerald-400":(K=e.post)==null?void 0:K.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)})}]),onClick:o[2]||(o[2]=s=>i.vote(e.post))},[t("div",Xe,[(l(),r("svg",{viewBox:"0 0 20 10",class:T(["pt-2 w-5 h-5 mx-auto",{"fill-emerald-400":(X=e.post)==null?void 0:X.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)}),"fill-gray-400":!((J=e.post)!=null&&J.votes.find(s=>{var a;return s.user_id===((a=i.user)==null?void 0:a._id)}))}])},Oe,2))]),t("div",Qe,d((Q=(O=e.post)==null?void 0:O.votes)==null?void 0:Q.length),1)],2)]),t("div",Ze,[e.edit?e.post?b((l(),r("input",{key:1,class:"pt-2.5 text-xl font-semibold","onUpdate:modelValue":o[3]||(o[3]=s=>e.post.title=s)},null,512)),[[L,e.post.title]]):n("",!0):(l(),r("h1",et,d((Z=e.post)==null?void 0:Z.title),1))])]),t("div",tt,[t("div",st,[t("div",ot,[t("div",{class:"h-7 w-7 bg-cover rounded-full bg-slate-500 mx-auto",style:D("background-image: url("+((te=(ee=e.post)==null?void 0:ee.user)==null?void 0:te.picture)+")")},null,4)])]),t("div",it,[t("h1",lt,d((oe=(se=e.post)==null?void 0:se.user)==null?void 0:oe.name),1)])])]),t("div",rt,[(ie=e.post)!=null&&ie.icon?(l(),r("img",{key:0,class:"rounded w-full",src:e.post.icon||e.background},null,8,at)):n("",!0)])]),e.post?(l(),r("div",nt,[dt,t("div",pt,[e.edit?b((l(),r("textarea",{key:1,"onUpdate:modelValue":o[4]||(o[4]=s=>e.post.description=s),rows:"",cols:"",class:"rounded w-full h-32 mb-3 border",placeholder:"Description"},`
`,512)),[[L,e.post.description]]):(l(),r("p",ct,d((le=e.post)==null?void 0:le.description),1)),e.edit?b((l(),r("select",{key:2,"onUpdate:modelValue":o[5]||(o[5]=s=>e.post.category_id=s),class:"mb-2 w-full h-10 block max-w-full pl-4 pr-2 text-sm text-gray-900 placeholder:text-slate-500 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),r(V,null,I(e.categories,s=>(l(),r("option",{value:s._id},d(s.title),9,ut))),256))],512)),[[Ie,e.post.category_id]]):n("",!0),t("button",{class:"mt-2 cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 py-2 inline-block",title:"Toggle Tailwind",onClick:o[6]||(o[6]=s=>e.tailwind=!e.tailwind)}," Toggle Tailwind "),t("h2",ht," Component Preview ("+d(e.tailwind?"Including":"Excluding")+" Tailwind) ",1),t("iframe",{title:"",class:"aspect-video shadow bg-slate-50 w-full mb-4",src:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=preview"+(e.tailwind?"-tw":"")},`
                    `,8,mt),t("div",vt,[gt,t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=vue",title:"Vue Single File Component"}," Vue SFC ",8,ft),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=preview",title:"Preview Component"}," Preview ",8,wt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=preview-wc",title:"Preview Web Component"}," Preview WC ",8,bt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=live-preview",title:"Live Preview Component"}," Live Preview ",8,yt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=live-preview-wc",title:"Live Preview Web Component"}," Live Preview WC ",8,_t),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=html",title:"Hyper Text Markup Language"}," HTML ",8,kt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=html-wc",title:"Hyper Text Markup Language Web Component"}," HTML WC ",8,xt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=html-base64",title:"Hyper Text Markup Language Base64 Encoded"}," HTML Base64 ",8,Ct),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=iframe",title:"Hyper Text Markup Language Web Component"}," Iframe ",8,Mt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=esm",title:"Ecmascript Module"}," ESM ",8,Ht),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=esmwc",title:"Ecmascript Module Web Component"}," ESM WC ",8,Lt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=base64",title:"Ecmascript Module Base64 Encoded"}," ESM Base64 ",8,Et),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=webcomponent",title:"Web Component"}," Web Component ",8,At),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id,title:"Git History"}," Git History ",8,Dt)]),t("div",Tt,[Vt,t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=preview-tw",title:"Preview Component Including Tailwind"}," Preview Tailwind ",8,It),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=html-tw",title:"Hyper Text Markup Language Including Tailwind"}," HTML Tailwind ",8,Bt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=html-base64-tw",title:"Hyper Text Markup Language Base64 Encoded Including Tailwind"}," HTML Base64 Tailwind ",8,Pt),t("a",{class:"cursor-pointer mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2 inline-block",target:"_blank",href:"https://api.vueplay.io/types/sfc/"+e.post._id+"?ref=HEAD&type=iframe-tw",title:"Hyper Text Markup Language Web Component"}," Iframe Tailwind ",8,St)]),m(),e.edit?(l(),r("button",{key:3,class:"mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2",onClick:o[7]||(o[7]=(...s)=>i.selectImage&&i.selectImage(...s))}," Select icon ")):n("",!0),e.edit?(l(),r("button",{key:4,class:"mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2",onClick:o[8]||(o[8]=s=>e.post.icon="")}," Remove icon ")):n("",!0),e.edit?(l(),r("button",{key:5,class:"mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2",onClick:o[9]||(o[9]=s=>e.post.public=!e.post.public)},d((re=e.post)!=null&&re.public?"Public":"Private"),1)):n("",!0),e.edit?(l(),r("button",{key:6,class:"mr-2 bg-slate-50 hover:bg-slate-100 shadow rounded px-2 mb-2 py-2",onClick:o[10]||(o[10]=s=>e.edit=!e.edit)}," Cancel ")):n("",!0),e.edit?(l(),r("button",{key:7,class:"bg-emerald-400 text-white hover:bg-emerald-500 shadow rounded px-2 mb-2 py-2",onClick:o[11]||(o[11]=s=>i.savePost())}," Save ")):n("",!0),t("div",Wt,[t("span",zt,d(e.moment(e.post.createdAt).format("MMMM DD, YYYY")),1),m(),((ne=(ae=e.post)==null?void 0:ae.user)==null?void 0:ne._id)===((de=i.user)==null?void 0:de._id)?(l(),r("span",{key:0,class:"text-xs ml-1",onClick:o[12]||(o[12]=s=>i.remove(e.post))},[m(" · "),Yt])):n("",!0),m(),!e.edit&&((ce=(pe=e.post)==null?void 0:pe.user)==null?void 0:ce._id)===((ue=i.user)==null?void 0:ue._id)?(l(),r("span",Ft,[m(" · "),(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 cursor-pointer inline-flex -mt-0.5",onClick:o[13]||(o[13]=s=>e.edit=!0)},Nt))])):n("",!0)]),t("div",Ut,[t("form",qt,[t("div",Gt,[b(t("input",{type:"search",id:"default-search",class:"w-full h-10 block max-w-full pl-4 pr-2 text-sm text-gray-900 placeholder:text-slate-500 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Leave a comment",required:"","onUpdate:modelValue":o[14]||(o[14]=s=>e.comment=s),onKeypress:o[15]||(o[15]=Be(Pe(s=>i.postComment(),["prevent"]),["enter"]))},null,544),[[L,e.comment]])])])]),Rt])])):n("",!0)]),(l(!0),r(V,null,I((he=e.post)==null?void 0:he.comments,s=>{var a,me,ve,ge,fe,we,be,ye,_e,ke,xe,Ce,Me,He;return l(),r("article",null,[t("div",$t,[t("div",Kt,[t("div",Xt,[t("div",{class:"h-7 w-7 bg-cover rounded-full bg-slate-500 mx-auto",style:D("background-image: url("+((me=(a=s==null?void 0:s.user)==null?void 0:a[0])==null?void 0:me.picture)+")")},null,4)])]),t("div",Jt,[t("h1",Ot,d((ge=(ve=s.user)==null?void 0:ve[0])==null?void 0:ge.name),1)])]),t("div",Qt,[Zt,t("div",es,[s.edit?b((l(),r("textarea",{key:1,"onUpdate:modelValue":M=>s.comment=M,rows:"",cols:"",class:"w-full h-16 mb-3 border"},`
`,8,ss)),[[L,s.comment]]):(l(),r("p",ts,d(s.comment),1)),s.edit?(l(),r("button",{key:2,class:"bg-emerald-400 text-white hover:bg-emerald-500 shadow rounded px-2 mb-2 py-2",onClick:M=>i.saveComment(s)}," Save ",8,os)):n("",!0),t("div",is,[(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:T(["w-4 h-4 mr-1 cursor-pointer",{"fill-red-400":s.likes.length}]),onClick:M=>i.like(s)},as,10,ls)),m(),t("span",ns,d(((fe=s.likes)==null?void 0:fe.length)>1?((we=s.likes)==null?void 0:we.length)+" likes":"")+" "+d(((be=s.likes)==null?void 0:be.length)===1?((ye=s.likes)==null?void 0:ye.length)+" like":"")+" · "+d(e.moment(s.createdAt).format("MMMM DD, YYYY")),1),m(),((ke=(_e=s==null?void 0:s.user)==null?void 0:_e[0])==null?void 0:ke._id)===((xe=i.user)==null?void 0:xe._id)?(l(),r("span",ds,[m(" · "),(l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 cursor-pointer inline-flex -mt-1",onClick:M=>i.removeComment(s)},us,8,ps))])):n("",!0),m(),((Me=(Ce=s==null?void 0:s.user)==null?void 0:Ce[0])==null?void 0:Me._id)===((He=i.user)==null?void 0:He._id)&&!s.edit?(l(),r("span",{key:1,class:"text-xs ml-1",onClick:M=>s.edit=!0},[m(" · "),ms],8,hs)):n("",!0)])])])])}),256))])}const gs=Le(Fe,[["render",vs]]);const fs={props:["id"],components:{VueNavigator:Ee,Footer:Ae,Component:gs},data:()=>({menu:!1,post:null}),computed:{votes(){var e;return(e=this.post)==null?void 0:e.votes}}},H=e=>(We("data-v-a08832de"),e=e(),ze(),e),ws={class:"bg-white flex flex-col h-screen"},bs={style:{width:"100%","min-height":"calc(100vh - 50px)"},class:"flex-1 relative overflow-auto"},ys={class:"relative h-full w-full flex"},_s=H(()=>t("label",{class:"bg-white fixed z-40 md:hidden cursor-pointer inline-flex items-center p-2 mt-16 lg:mt-4 ml-3 text-sm text-slate-900 rounded-lg",for:"toggle"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])],-1)),ks={class:"bottom-0 bg-white pt-10 md:w-96 md:p-7 md:shadow-md shadow-lg border-r border-slate-200 peer-checked:px-7 peer-checked:pt-16 peer-checked:md:pt-10 peer-checked:pb-7 duration-200 transition-all ease-in-out w-0 max-w-full z-30 peer-checked:w-80 absolute md:relative top-0 overflow-auto"},xs=H(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5 -mt-1 mr-1 inline"},[t("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})],-1)),Cs=H(()=>t("h3",{class:"text-slate-500 font-medium mb-1 whitespace-nowrap"}," Category ",-1)),Ms=H(()=>t("h3",{class:"text-slate-500 mt-4 font-medium mb-2 whitespace-nowrap"}," Voters ",-1)),Hs={class:"flex mb-1.5"},Ls={class:"text-sm pl-2 pt-1 text-ellipsis overflow-hidden whitespace-nowrap grow"},Es={class:"flex mb-1.5"},As=H(()=>t("div",{class:"h-7 w-7"},null,-1)),Ds={class:"text-sm pl-2 pt-1 text-ellipsis overflow-hidden whitespace-nowrap grow"};function Ts(e,o,h,g,f,i){var p,w;const y=E("VueNavigator"),v=E("Component",!0),u=E("Footer");return l(),r("div",ws,[A(y,{class:"absolute z-50"}),t("main",bs,[t("div",ys,[_s,b(t("input",{class:"peer hidden",type:"checkbox",id:"toggle","onUpdate:modelValue":o[0]||(o[0]=c=>e.menu=c)},null,512),[[Se,e.menu]]),t("div",ks,[t("button",{class:"border mr-2 bg-slate-50 hover:bg-slate-100 rounded-2xl pl-3 pr-4 mb-4 py-2",onClick:o[1]||(o[1]=c=>e.$router.push("/search"))},[xs,m(" Go back ")]),Cs,t("span",null,d(((w=(p=e.post)==null?void 0:p.category)==null?void 0:w.title)||"Not set"),1),Ms,(l(!0),r(V,null,I(i.votes,c=>{var _,k,x,C;return l(),r("div",Hs,[t("div",{class:"h-7 w-7 bg-cover rounded-full bg-slate-500",style:D("background-image: url("+((k=(_=c==null?void 0:c.user)==null?void 0:_[0])==null?void 0:k.picture)+")")},null,4),t("span",Ls,d((C=(x=c.user)==null?void 0:x[0])==null?void 0:C.name),1)])}),256)),t("div",Es,[As,b(t("span",Ds," and 35 more... ",512),[[Ye,!1]])])]),A(v,{class:"m-auto grow h-full overflow-auto pt-16 lg:pt-7 relative",onPost:o[2]||(o[2]=c=>e.post=c),id:h.id},null,8,["id"]),e.menu?(l(),r("div",{key:0,class:"absolute h-full w-full",onClick:o[3]||(o[3]=c=>e.menu=!1)})):n("",!0)])]),A(u)])}const Ws=Le(fs,[["render",Ts],["__scopeId","data-v-a08832de"]]);export{Ws as default};
